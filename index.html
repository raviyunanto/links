<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <meta name="author" content="Ravi Yunanto">
    <meta name="description" content="Official digital portfolio of Ravi Yunanto - Videographer, Photographer, & Designer.">
    <meta name="theme-color" content="#000000">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://raviyunanto.my.id">
    <meta property="og:site_name" content="Ravi Yunanto Portfolio">
    <meta property="og:title" content="@raviyunanto | Visual Artist">
    <meta property="og:description" content="Videographer, Photographer, & Designer. Tap to connect.">
    <meta property="og:image" content="https://raviyunanto.my.id/dp.jpg">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="@raviyunanto | Visual Artist">
    <meta name="twitter:description" content="Videographer, Photographer, & Designer. Tap to connect.">
    <meta name="twitter:image" content="https://raviyunanto.my.id/dp.jpg">

    <title id="page-title">Ravi Yunanto | Loading...</title>
    
    <link id="favicon" rel="icon" type="image/png" href="icon.png"> 
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* * DESIGN SYSTEM & VARIABLES */
        :root {
            /* DARK MODE (Default) */
            --theme-bg: #050505;
            --theme-surface: rgba(255, 255, 255, 0.07);
            --theme-text-primary: #e0e0e0;
            --theme-text-secondary: #cccccc;
            --theme-accent: #cfa258;
            --theme-gradient: linear-gradient(135deg, #050505 30%, #2a1e05 100%);
            
            --glass-border: rgba(255, 255, 255, 0.1);
            --glass-blur: blur(12px);
            
            --special-bg: rgba(255, 255, 255, 0.12);
            --special-border: #ffffff;
            --special-line: #ffffff;

            --status-bg: rgba(20, 20, 20, 0.9);
            --status-border: rgba(255, 255, 255, 0.2);
            --status-text: #ffffff;
            
            --transition-ease: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* LIGHT MODE OVERRIDE */
        [data-theme="light"] {
            --theme-bg: #fdf6e3;
            --theme-surface: rgba(74, 59, 34, 0.08);
            --theme-text-primary: #4a3b22;
            --theme-text-secondary: #6e5d3e;
            --theme-accent: #b8860b;
            --theme-gradient: linear-gradient(135deg, #fffcf5 20%, #e6d2a8 100%);
            
            --glass-border: rgba(74, 59, 34, 0.2);
            --special-bg: rgba(184, 134, 11, 0.1);
            --special-border: #8B4513; 
            --special-line: #8B4513;
            --status-bg: rgba(255, 255, 255, 0.9);
            --status-border: rgba(74, 59, 34, 0.2);
            --status-text: #4a3b22;
        }

        /* --- CORE RESET --- */
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: var(--theme-gradient);
            background-color: var(--theme-bg);
            color: var(--theme-text-primary);
            min-height: 100vh;
            display: flex; justify-content: center; align-items: center;
            overflow-x: hidden;
            transition: background 0.5s ease, color 0.5s ease;
        }

        /* --- VISUALS --- */
        /* FILM GRAIN TEXTURE */
        .film-grain {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 1; opacity: 0.05;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }
        
        #particle-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; }

        /* --- LAYOUT --- */
        main.card-container {
            width: 100%; max-width: 450px;
            padding: 2.5rem 1.5rem 6rem;
            text-align: center;
            position: relative; z-index: 10;
        }

        /* --- COMPONENTS --- */
        .profile-section { position: relative; display: inline-block; margin-bottom: 1.5rem; }
        
        .profile-avatar {
            width: 110px; height: 110px; border-radius: 50%; object-fit: cover;
            border: 3px solid var(--theme-accent);
            box-shadow: 0 0 25px rgba(207, 162, 88, 0.3); transition: var(--transition-ease);
            animation: breathing 4s ease-in-out infinite;
        }
        .profile-avatar:hover { transform: scale(1.05) rotate(2deg); animation: none; }

        /* STATUS CAPSULE */
        .status-capsule {
            position: absolute; bottom: -12px; left: 50%; transform: translateX(-50%);
            background: var(--status-bg); border: 1px solid var(--status-border);
            padding: 4px 12px; border-radius: 20px;
            display: flex; align-items: center; gap: 6px;
            white-space: nowrap; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px);
            transition: var(--transition-ease);
        }
        .status-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }
        .status-text { font-size: 0.65rem; font-weight: 600; color: var(--status-text); text-transform: uppercase; letter-spacing: 0.5px; }
        .status-capsule.online .status-dot { background-color: #2ecc71; box-shadow: 0 0 6px #2ecc71; animation: pulse-status 2s infinite; }
        .status-capsule.busy .status-dot { background-color: #e74c3c; box-shadow: 0 0 6px #e74c3c; }

        .profile-header { display: flex; align-items: center; justify-content: center; gap: 6px; margin-bottom: 0.25rem; }
        h1.profile-name { font-size: 1.5rem; font-weight: 700; color: var(--theme-accent); letter-spacing: 1px; }
        
        .verified-badge { width: 20px; height: 20px; color: var(--theme-accent); cursor: pointer; transition: transform 0.2s; }
        .verified-badge:hover { transform: scale(1.2); }
        .verified-badge svg { width: 100%; height: 100%; fill: currentColor; }

        .profile-bio { font-size: 0.95rem; color: var(--theme-text-secondary); margin-bottom: 1.5rem; min-height: 1.5rem; font-weight: 300; }
        .cursor { display: inline-block; width: 2px; animation: blink 1s infinite; }

        .btn-share {
            background: rgba(255, 255, 255, 0.05); border: 1px solid var(--glass-border);
            color: var(--theme-accent); padding: 8px 20px; font-size: 0.7rem; border-radius: 50px;
            cursor: pointer; margin-bottom: 2rem; display: inline-flex; align-items: center; gap: 8px;
            text-transform: uppercase; letter-spacing: 1.5px; font-weight: 600;
            backdrop-filter: var(--glass-blur); -webkit-backdrop-filter: var(--glass-blur);
            transition: var(--transition-ease);
        }
        .btn-share:hover { background: rgba(207, 162, 88, 0.15); border-color: var(--theme-accent); transform: translateY(-2px); }

        .link-list { display: flex; flex-direction: column; gap: 1rem; }
        
        /* LINK CARD */
        .link-card {
            display: flex; align-items: center; justify-content: center; position: relative;
            background: var(--theme-surface); color: var(--theme-text-primary);
            border: 1px solid var(--glass-border); border-left: 3px solid rgba(207, 162, 88, 0.5);
            padding: 1.1rem; border-radius: 16px;
            text-decoration: none; font-weight: 500;
            backdrop-filter: var(--glass-blur); -webkit-backdrop-filter: var(--glass-blur);
            overflow: hidden; transition: var(--transition-ease);
            cursor: pointer;
        }
        .link-card:hover {
            transform: translateY(-4px);
            background: linear-gradient(90deg, rgba(207, 162, 88, 0.9), rgba(230, 197, 132, 0.9));
            color: #000; border-color: var(--theme-accent);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }
        .link-card.special {
            background: var(--special-bg) !important;
            border: 2px solid var(--special-border) !important; 
            border-left: 4px solid var(--special-line) !important;
            font-weight: 600;
        }

        /* --- FITUR BARU: DIVIDER & BADGE --- */
        .link-divider {
            font-size: 0.7rem; font-weight: 600; letter-spacing: 2px;
            color: var(--theme-text-secondary); margin: 1.2rem 0 0.2rem;
            text-transform: uppercase; opacity: 0.6; width: 100%; text-align: left;
            display: flex; align-items: center; gap: 10px;
        }
        .link-divider::after { content: ''; flex: 1; height: 1px; background: var(--glass-border); }

        .link-badge {
            background: #e74c3c; color: white; font-size: 0.55rem;
            padding: 2px 6px; border-radius: 4px; margin-left: 8px;
            font-weight: 700; letter-spacing: 0.5px; text-transform: uppercase;
            box-shadow: 0 2px 4px rgba(231, 76, 60, 0.3);
        }

        /* STAGGER ANIMATION */
        .animate-item {
            opacity: 0; transform: translateY(20px);
            animation: fadeUpStagger 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }
        @keyframes fadeUpStagger { to { opacity: 1; transform: translateY(0); } }

        /* --- CONTROLS --- */
        .controls-layer { position: fixed; z-index: 5000; }
        .pos-top-right { top: 20px; right: 20px; } 
        .pos-top-left { top: 20px; left: 20px; } 

        .switch { position: relative; display: inline-block; width: 60px; height: 30px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(20, 20, 20, 0.8); border: 2px solid var(--theme-accent);
            transition: .4s; border-radius: 34px; backdrop-filter: blur(5px);
        }
        .slider:before {
            position: absolute; content: "üåô"; height: 22px; width: 22px; left: 3px; bottom: 2px;
            background-color: var(--theme-accent); transition: .4s; border-radius: 50%;
            display: flex; justify-content: center; align-items: center; font-size: 12px; color: #000;
        }
        input:checked + .slider { background-color: rgba(255, 255, 255, 0.9); }
        input:checked + .slider:before { transform: translateX(28px); content: "‚òÄÔ∏è"; background-color: #000; color: var(--theme-accent); }

        .btn-qr {
            width: 44px; height: 44px; border-radius: 50%;
            background: rgba(20, 20, 20, 0.8); border: 2px solid var(--theme-accent);
            cursor: pointer; display: flex; justify-content: center; align-items: center;
            transition: var(--transition-ease); backdrop-filter: blur(5px);
            padding: 0; overflow: hidden;
        }
        .btn-qr img { width: 24px; height: 24px; object-fit: contain; transition: var(--transition-ease); }
        .btn-qr:hover { transform: scale(1.1); background: rgba(207, 162, 88, 0.2); }
        [data-theme="light"] .btn-qr { background: rgba(255, 255, 255, 0.8); }

        /* MODALS & TOAST */
        .modal-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 9999;
            display: flex; justify-content: center; align-items: center;
            opacity: 0; visibility: hidden; transition: var(--transition-ease);
            backdrop-filter: blur(8px);
        }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        .modal-content {
            background: #fff; padding: 2rem; border-radius: 24px;
            text-align: center; position: relative; width: 85%; max-width: 320px;
            transform: scale(0.8); transition: var(--transition-ease);
            border: 2px solid var(--theme-accent);
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        .modal-overlay.active .modal-content { transform: scale(1); }
        .modal-close {
            position: absolute; top: 15px; right: 15px;
            background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #555;
        }
        .qr-image { width: 180px; height: 180px; object-fit: contain; margin: 10px 0; }
        
        .verified-avatar {
            width: 80px; height: 80px; border-radius: 50%; object-fit: cover;
            border: 3px solid var(--theme-accent); margin-bottom: 10px;
            position: relative;
        }
        .verified-badge-large {
            color: var(--theme-accent); width: 24px; height: 24px;
            position: absolute; bottom: 8px; right: 35%; 
            background: #fff; border-radius: 50%;
        }
        .verified-badge-large svg { width: 100%; height: 100%; fill: currentColor; }
        .modal-title { font-size: 1.2rem; font-weight: 700; color: #000; margin-bottom: 5px; }
        .modal-desc { font-size: 0.85rem; color: #555; line-height: 1.5; }

        #toast {
            visibility: hidden; min-width: 250px; background-color: #333;
            color: #fff; text-align: center; border-radius: 50px; padding: 16px;
            position: fixed; z-index: 9999; left: 50%; bottom: 30px; transform: translateX(-50%);
            font-size: 14px; border: 1px solid var(--theme-accent);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3); opacity: 0; transition: opacity 0.5s, bottom 0.5s;
        }
        #toast.show { visibility: visible; opacity: 1; bottom: 50px; }
        [data-theme="light"] #toast { background-color: #fdf6e3; color: #4a3b22; }

        footer { margin-top: 3rem; font-size: 0.8rem; color: var(--theme-accent); opacity: 0.6; }

        @keyframes pulse-status { 0% { box-shadow: 0 0 0 0 rgba(46, 204, 113, 0.7); } 70% { box-shadow: 0 0 0 6px rgba(46, 204, 113, 0); } 100% { box-shadow: 0 0 0 0 rgba(46, 204, 113, 0); } }
        @keyframes breathing { 0% { box-shadow: 0 0 25px rgba(207, 162, 88, 0.3); } 50% { box-shadow: 0 0 40px rgba(207, 162, 88, 0.6); } 100% { box-shadow: 0 0 25px rgba(207, 162, 88, 0.3); } }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
    </style>
</head>
<body>

    <div class="film-grain"></div> <canvas id="particle-canvas"></canvas>

    <div class="controls-layer pos-top-left">
        <button id="btn-qr" class="btn-qr" title="Show QR Code">
            <img src="qr.png" alt="QR">
        </button>
    </div>

    <div class="controls-layer pos-top-right">
        <label class="switch" title="Switch Theme">
            <input type="checkbox" id="theme-toggle">
            <span class="slider"></span>
        </label>
    </div>

    <div id="qr-modal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" onclick="closeAllModals()">√ó</button>
            <div class="modal-title" style="margin-top: 10px;">Scan to Connect</div>
            <img id="qr-image" src="" alt="QR Code" class="qr-image">
            <div class="modal-desc">@raviyunanto</div>
        </div>
    </div>

    <div id="verified-modal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" onclick="closeAllModals()">√ó</button>
            <div style="position: relative; display: inline-block;">
                <img id="verified-modal-img" src="" alt="Profile" class="verified-avatar">
                <div class="verified-badge-large">
                    <svg viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm-2 15l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"/></svg>
                </div>
            </div>
            <div class="modal-title">Verified Creator</div>
            <div class="modal-desc">
                You are viewing the official portfolio of <b>Ravi Yunanto</b>.<br>
                Professional Videographer, Photographer & Designer.
            </div>
        </div>
    </div>

    <div id="toast">Link berhasil disalin! üìã</div>

    <main class="card-container">
        <header id="anim-profile" class="profile-section">
            <img id="profile-img" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Profile" class="profile-avatar">
            <div id="status-capsule" class="status-capsule">
                <div class="status-dot"></div>
                <span id="status-text" class="status-text"></span>
            </div>
        </header>
        
        <div id="anim-name" class="profile-header">
            <h1 id="profile-name" class="profile-name"></h1>
            <span id="btn-verified" class="verified-badge" title="Verified Account">
                <svg viewBox="0 0 24 24"><path d="M23,12L20.56,9.22L20.9,5.54L17.29,4.72L15.4,1.54L12,3L8.6,1.54L6.71,4.72L3.1,5.53L3.44,9.21L1,12L3.44,14.78L3.1,18.47L6.71,19.29L8.6,22.47L12,21L15.4,22.46L17.29,19.28L20.9,18.46L20.56,14.78L23,12M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9L10,17Z" /></svg>
            </span>
        </div>

        <div id="anim-bio" class="profile-bio">
            <span id="typing-text"></span><span class="cursor">|</span>
        </div>

        <div id="anim-share">
            <button id="btn-share" class="btn-share">
                <span>üîó Share This Profile</span>
            </button>
        </div>
        
        <nav id="links-wrapper" class="link-list"></nav>
        
        <footer id="footer-text"></footer>
    </main>

    <script src="config.js"></script>
    
    <script>
        /**
         * RAVI YUNANTO PORTFOLIO ENGINE
         * Final Version: Film Grain, Divider, Badge included.
         */
        
        function closeAllModals() {
            document.querySelectorAll('.modal-overlay').forEach(el => el.classList.remove('active'));
        }

        (function() {
            'use strict';

            const state = { particles: [], typingIndex: 0, typingCharIndex: 0 };

            const dom = {
                body: document.body,
                themeSwitch: document.getElementById('theme-toggle'),
                canvas: document.getElementById('particle-canvas'),
                ctx: document.getElementById('particle-canvas').getContext('2d'),
                linksWrapper: document.getElementById('links-wrapper'),
                typingEl: document.getElementById('typing-text'),
                shareBtn: document.getElementById('btn-share'),
                toast: document.getElementById('toast'),
                
                animProfile: document.getElementById('anim-profile'),
                animName: document.getElementById('anim-name'),
                animBio: document.getElementById('anim-bio'),
                animShare: document.getElementById('anim-share'),
                
                btnQr: document.getElementById('btn-qr'),
                qrModal: document.getElementById('qr-modal'),
                qrImage: document.getElementById('qr-image'),
                btnVerified: document.getElementById('btn-verified'),
                verifiedModal: document.getElementById('verified-modal'),
                verifiedImg: document.getElementById('verified-modal-img')
            };

            function init() {
                loadConfig();
                setupEventListeners();
                initParticles();
                animateParticles();
                applyStaggeredAnimation();
                console.log('%c Designed by Ravi Yunanto ', 'background: #cfa258; color: #000; font-weight: bold; padding: 4px; border-radius: 4px;');
            }

            function applyStaggeredAnimation() {
                const elements = [dom.animProfile, dom.animName, dom.animBio, dom.animShare];
                elements.forEach((el, index) => {
                    el.classList.add('animate-item');
                    el.style.animationDelay = `${index * 0.1}s`;
                });
            }

            function generateAndDownloadVCard() {
                const vCardData = [
                    'BEGIN:VCARD',
                    'VERSION:3.0',
                    `FN:${CONFIG.name.replace('@', '')}`,
                    `TEL;TYPE=CELL:${CONFIG.phone}`,
                    `EMAIL;TYPE=WORK:${CONFIG.email}`,
                    `URL:${window.location.href}`,
                    'END:VCARD'
                ].join('\n');

                const blob = new Blob([vCardData], { type: 'text/vcard' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'contact.vcf';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                showToast('Kontak berhasil diunduh! üìá');
            }

            function loadConfig() {
                document.title = CONFIG.name;
                document.getElementById('page-title').textContent = CONFIG.name;
                document.getElementById('profile-name').textContent = CONFIG.name;
                document.getElementById('footer-text').textContent = CONFIG.copyright;
                
                const pImg = document.getElementById('profile-img');
                pImg.src = CONFIG.profileImage;
                pImg.onload = () => pImg.style.opacity = 1; 
                document.getElementById('favicon').href = CONFIG.favicon;
                dom.verifiedImg.src = CONFIG.profileImage;

                const currentUrl = window.location.href;
                dom.qrImage.src = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${currentUrl}`;

                const statusCapsule = document.getElementById('status-capsule');
                const statusText = document.getElementById('status-text');
                if (CONFIG.isOpenToWork) {
                    statusCapsule.className = 'status-capsule online';
                    statusText.textContent = "OPEN TO WORK";
                } else {
                    statusCapsule.className = 'status-capsule busy';
                    statusText.textContent = "CURRENTLY BUSY";
                }

                // LINKS GENERATOR (Support Divider & Badge)
                CONFIG.links.forEach((item, index) => {
                    
                    // CEK APAKAH INI DIVIDER?
                    if (item.type === 'divider') {
                        const div = document.createElement('div');
                        div.className = 'link-divider animate-item';
                        div.textContent = item.text;
                        div.style.animationDelay = `${0.4 + (index * 0.1)}s`;
                        dom.linksWrapper.appendChild(div);
                        return; // Lanjut ke item berikutnya
                    }

                    // KALAU BUKAN DIVIDER, BERARTI LINK
                    const a = document.createElement('a');
                    a.className = `link-card ${item.special ? 'special' : ''} animate-item`;
                    a.style.animationDelay = `${0.4 + (index * 0.1)}s`;
                    a.href = "javascript:void(0)";

                    // ISI TEXT
                    const textSpan = document.createElement('span');
                    textSpan.textContent = item.text;
                    a.appendChild(textSpan);

                    // CEK BADGE
                    if (item.badge) {
                        const badge = document.createElement('span');
                        badge.className = 'link-badge';
                        badge.textContent = item.badge;
                        a.appendChild(badge);
                    }

                    if (item.special) {
                        a.addEventListener('click', (e) => {
                            e.preventDefault();
                            generateAndDownloadVCard();
                        });
                    } else {
                        a.addEventListener('click', (e) => {
                            e.preventDefault();
                            if(item.url) {
                                window.open(item.url, '_blank', 'noopener,noreferrer');
                            }
                        });
                    }
                    dom.linksWrapper.appendChild(a);
                });

                typeWriter();
            }

            function showToast(message) {
                dom.toast.textContent = message;
                dom.toast.className = "show";
                setTimeout(function(){ dom.toast.className = dom.toast.className.replace("show", ""); }, 3000);
            }

            function toggleTheme(e) {
                const isLight = e.target.checked;
                if (isLight) { dom.body.setAttribute('data-theme', 'light'); } 
                else { dom.body.removeAttribute('data-theme'); }
            }

            function typeWriter() {
                const currentWord = CONFIG.typingTexts[state.typingIndex];
                if (state.typingCharIndex < currentWord.length) {
                    dom.typingEl.textContent += currentWord.charAt(state.typingCharIndex);
                    state.typingCharIndex++;
                    setTimeout(typeWriter, 100);
                } else { setTimeout(eraseWriter, 2000); }
            }

            function eraseWriter() {
                if (state.typingCharIndex > 0) {
                    dom.typingEl.textContent = CONFIG.typingTexts[state.typingIndex].substring(0, state.typingCharIndex - 1);
                    state.typingCharIndex--;
                    setTimeout(eraseWriter, 50);
                } else {
                    state.typingIndex = (state.typingIndex + 1) % CONFIG.typingTexts.length;
                    setTimeout(typeWriter, 500);
                }
            }

            async function handleShare() {
                const shareData = { title: CONFIG.name, text: 'Cek profil digital ini:', url: window.location.href };
                if (navigator.share) { 
                    try { await navigator.share(shareData); } catch (err) {} 
                } else { 
                    navigator.clipboard.writeText(window.location.href); 
                    showToast('Link berhasil disalin! üìã'); 
                }
            }

            function initParticles() {
                resizeCanvas();
                const density = 15000; 
                const count = (dom.canvas.width * dom.canvas.height) / density;
                state.particles = [];
                for (let i = 0; i < count; i++) { state.particles.push(createParticle()); }
            }

            function createParticle() {
                return {
                    x: Math.random() * dom.canvas.width, y: Math.random() * dom.canvas.height,
                    size: Math.random() * 2, speedX: (Math.random() * 0.5) - 0.25, speedY: (Math.random() * 0.5) - 0.25,
                    opacity: Math.random() * 0.5 + 0.1
                };
            }

            function animateParticles() {
                dom.ctx.clearRect(0, 0, dom.canvas.width, dom.canvas.height);
                state.particles.forEach(p => {
                    p.x += p.speedX; p.y += p.speedY;
                    if (p.x < 0 || p.x > dom.canvas.width) p.speedX *= -1;
                    if (p.y < 0 || p.y > dom.canvas.height) p.speedY *= -1;
                    dom.ctx.fillStyle = `rgba(207, 162, 88, ${p.opacity})`;
                    dom.ctx.beginPath(); dom.ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2); dom.ctx.fill();
                });
                requestAnimationFrame(animateParticles);
            }

            function resizeCanvas() { dom.canvas.width = window.innerWidth; dom.canvas.height = window.innerHeight; }

            function setupEventListeners() {
                dom.themeSwitch.addEventListener('change', toggleTheme);
                dom.shareBtn.addEventListener('click', handleShare);
                dom.btnQr.addEventListener('click', () => dom.qrModal.classList.add('active'));
                dom.btnVerified.addEventListener('click', () => dom.verifiedModal.classList.add('active'));
                
                window.addEventListener('click', (e) => {
                    if (e.target.classList.contains('modal-overlay')) {
                        closeAllModals();
                    }
                });

                window.addEventListener('resize', () => { resizeCanvas(); initParticles(); });
            }

            init();
        })();
    </script>
</body>
</html>
